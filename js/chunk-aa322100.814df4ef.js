(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa322100"],{"1a53":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-manager-application vx-file-manager"},[i("div",{staticClass:"content-area-wrapper vx-file-manager-content"},[i("div",{staticClass:"sidebar-left"},[i("div",{staticClass:"sidebar"},[i("div",{staticClass:"sidebar-file-manager",class:{show:e.showSidebar}},[i("div",{staticClass:"sidebar-inner"},[i("el-dropdown",{staticClass:"w-100 pl-2 pt-2 pr-2 mb-2",attrs:{trigger:"click"},on:{command:e.addNew}},[i("el-button",{staticClass:"w-100",attrs:{type:"primary",disabled:null!=e.type}},[e._v(" Add New ")]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"Folder",expression:"'Folder'"}],attrs:{command:"folder"}}),i("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"File",expression:"'File'"}],attrs:{command:"file"}})],1)],1),i("div",{ref:"sidebarList",staticClass:"sidebar-list"},[i("el-tree",{ref:"tree",staticClass:"mb-2",attrs:{draggable:"",lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"allow-drop":e.allowDrop,"highlight-current":!0},on:{"node-click":e.handleNodeClick,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop}}),i("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.listFiles("recent")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"clock"}}),i("span",{staticClass:"align-middle"},[e._v("Recents")])]),i("vx-file-manager-labels",{attrs:{"file-type":e.fileType,value:e.type},on:{input:function(t){return e.listFiles(t)}}})],1)],1)])])]),i("div",{staticClass:"content-right"},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"content-header row"}),i("div",{staticClass:"content-body"},[i("div",{ref:"overlay",staticClass:"body-content-overlay",class:{show:e.showSidebar},on:{click:function(t){e.showSidebar=!1}}}),i("div",{staticClass:"file-manager-main-content"},[i("div",{staticClass:"\n                file-manager-content-header\n                d-flex\n                justify-content-between\n                align-items-center\n              "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"\n                    sidebar-toggle\n                    d-block d-xl-none\n                    float-left\n                    align-middle\n                    ml-1\n                  ",on:{click:function(t){e.showSidebar=!e.showSidebar}}},[i("i",{staticClass:"font-medium-5",attrs:{"data-feather":"menu"}})]),i("div",{staticClass:"\n                    input-group input-group-merge\n                    shadow-none\n                    m-0\n                    flex-grow-1\n                  "},[i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text border-0"},[i("vx-icon",{attrs:{name:"search",width:"14"}})],1)]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],staticClass:"form-control files-filter border-0 bg-transparent",attrs:{type:"text",placeholder:e.$t("Search")},domProps:{value:e.search_text},on:{keyup:function(t){return e.onSearch(t)},input:function(t){t.target.composing||(e.search_text=t.target.value)}}})])]),i("div",{staticClass:"d-flex align-items-center"},[e.selectedFolder.length+e.selectedFile.length>0?i("el-button-group",[i("el-button",{staticClass:"el-icon-delete",on:{click:e.deleteSelected}}),e.selectedFile.length>0?i("el-button",{on:{click:function(t){e.showSelectFolder=!0}}},[e._v("Move")]):e._e()],1):e._e(),i("el-button-group",[i("el-button",{staticClass:"active",attrs:{icon:"el-icon-menu"},on:{click:function(t){e.mode="grid"}}}),i("el-button",{on:{click:function(t){e.mode="list"}}},[i("i",{staticClass:"fa fa-list"})])],1)],1)]),i("div",{ref:"fileContent",staticClass:"file-manager-content-body"},[e.file_uploader?[i("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{drag:"",action:e.action,multiple:"",headers:e.uploadHeaders,data:{path:e.selectedPath},"on-success":e.onSuccessUpload,"on-error":e.onErrorUpload,accept:e.accept}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v(" Drop file here or "),i("em",[e._v("click to upload")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Files with a size less than "+e._s(e.$vx.file_upload_max_size)+" ")])]),i("el-divider")]:e._e(),i("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[i("h6",{staticClass:"files-section-title mt-25 mb-75"},[e._v("Folders")]),i("div",{staticClass:"files-header"},[i("h6",{directives:[{name:"t",rawName:"v-t",value:"Name",expression:"'Name'"}],staticClass:"font-weight-bold mb-0"}),i("div",[i("h6",{directives:[{name:"t",rawName:"v-t",value:"Size",expression:"'Size'"}],staticClass:"\n                        font-weight-bold\n                        file-item-size\n                        d-inline-block\n                        mb-0\n                      "}),i("h6",{directives:[{name:"t",rawName:"v-t",value:"Date modified",expression:"'Date modified'"}],staticClass:"\n                        font-weight-bold\n                        file-last-modified\n                        d-inline-block\n                        mb-0\n                      "}),i("h6",{staticClass:"font-weight-bold d-inline-block mr-1 mb-0"},[e._v(" Actions ")])])]),e.showLevelUp?i("div",{staticClass:"card file-manager-item folder level-up",on:{click:e.onLevelUp}},[e._m(0),e._m(1)]):e._e(),e._l(e.folders,(function(t,a){return i("vx-file-manager-folder",{key:a,attrs:{folder:t},on:{delete:function(t){return e.deleteFolder(t)},selected:function(t){return e.selectFolder(t)},unselected:function(t){return e.unselectFolder(t)},rename:function(t){return e.renameFolder(t)},input:function(t){return e.folderClicked(t)}}})})),""!=e.search_text&&0==e.folders.length?i("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[i("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2),i("div",{staticClass:"view-container",class:"list"==e.mode?"list-view":""},[i("h6",{staticClass:"files-section-title mt-2 mb-75"},[e._v("Files")]),e._l(e.files,(function(t){return i("vx-file-manager-file",{key:t.path,attrs:{file:t},on:{delete:function(t){return e.deleteFile(t)},rename:function(t){return e.renameFile(t)},duplicate:function(t){return e.duplicateFile(t)},selected:function(t){return e.selectedFile.push(t)},unselected:function(t){e.selectedFile=e.selectedFile.filter((function(e){return e!=t}))},input:function(t){return e.inputFile(t)}}})})),""!=e.search_text&&0==e.files.length?i("div",{staticClass:"flex-grow-1 align-items-center no-result mb-3"},[i("i",{staticClass:"fa fa-exclamation-circle mr-50"}),e._v(" No Results ")]):e._e()],2)],2)])])])])]),e.showSelectFolder?i("el-dialog",{attrs:{title:"Select folder ...",visible:e.showSelectFolder},on:{"update:visible":function(t){e.showSelectFolder=t}}},[i("el-tree",{ref:"tree2",staticClass:"mb-1",attrs:{lazy:"",load:e.loadNode,"node-key":"path","expand-on-click-node":!1,"default-expanded-keys":[e.base],"highlight-current":!0}}),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.moveSelectedTo(e.$refs.tree2.getCurrentNode())}}},[e._v("Select")])],1):e._e()],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-img-top file-logo-wrapper"},[i("div",{staticClass:"\n                        d-flex\n                        align-items-center\n                        justify-content-center\n                        w-100\n                      "},[i("i",{staticClass:"fa fa-arrow-up"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-body pl-2 pt-0 pb-1"},[i("div",{staticClass:"content-wrapper"},[i("p",{staticClass:"card-text file-name mb-0"},[e._v("...")])])])}],r=i("b85c"),s=i("1da1");i("96cf"),i("ac1f"),i("5319"),i("99af"),i("4de4"),i("649b"),i("fe68");
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function l(e){return getComputedStyle(e)}function o(e,t){for(var i in t){var a=t[i];"number"===typeof a&&(a+="px"),e.style[i]=a}return e}function c(e){var t=document.createElement("div");return t.className=e,t}var d="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function u(e,t){if(!d)throw new Error("No element matching method supported");return d.call(e,t)}function h(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){return Array.prototype.filter.call(e.children,(function(e){return u(e,t)}))}var p={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},m={x:null,y:null};function v(e,t){var i=e.element.classList,a=p.state.scrolling(t);i.contains(a)?clearTimeout(m[t]):i.add(a)}function g(e,t){m[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(p.state.scrolling(t))}),e.settings.scrollingThreshold)}function b(e,t){v(e,t),g(e,t)}var w=function(e){this.element=e,this.handlers={}},C={isEmpty:{configurable:!0}};w.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},w.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter((function(a){return!(!t||a===t)||(i.element.removeEventListener(e,a,!1),!1)}))},w.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},C.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(w.prototype,C);var x=function(){this.eventElements=[]};function y(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function _(e,t,i,a,n){var r;if(void 0===a&&(a=!0),void 0===n&&(n=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}k(e,i,r,a,n)}function k(e,t,i,a,n){var r=i[0],s=i[1],l=i[2],o=i[3],c=i[4],d=i[5];void 0===a&&(a=!0),void 0===n&&(n=!1);var u=e.element;e.reach[o]=null,u[l]<1&&(e.reach[o]="start"),u[l]>e[r]-e[s]-1&&(e.reach[o]="end"),t&&(u.dispatchEvent(y("ps-scroll-"+o)),t<0?u.dispatchEvent(y("ps-scroll-"+c)):t>0&&u.dispatchEvent(y("ps-scroll-"+d)),a&&b(e,o)),e.reach[o]&&(t||n)&&u.dispatchEvent(y("ps-"+o+"-reach-"+e.reach[o]))}function Y(e){return parseInt(e,10)||0}function R(e){return u(e,"input,[contenteditable]")||u(e,"select,[contenteditable]")||u(e,"textarea,[contenteditable]")||u(e,"button,[contenteditable]")}function X(e){var t=l(e);return Y(t.width)+Y(t.paddingLeft)+Y(t.paddingRight)+Y(t.borderLeftWidth)+Y(t.borderRightWidth)}x.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new w(e),this.eventElements.push(t)),t},x.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},x.prototype.unbind=function(e,t,i){var a=this.eventElement(e);a.unbind(t,i),a.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(a),1)},x.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},x.prototype.once=function(e,t,i){var a=this.eventElement(e),n=function(e){a.unbind(t,n),i(e)};a.bind(t,n)};var F={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function S(e){var t=e.element,i=Math.floor(t.scrollTop),a=t.getBoundingClientRect();e.containerWidth=Math.ceil(a.width),e.containerHeight=Math.ceil(a.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(f(t,p.element.rail("x")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(f(t,p.element.rail("y")).forEach((function(e){return h(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=L(e,Y(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Y((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=L(e,Y(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Y(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),T(t,e),e.scrollbarXActive?t.classList.add(p.state.active("x")):(t.classList.remove(p.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(p.state.active("y")):(t.classList.remove(p.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function L(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function T(e,t){var i={width:t.railXWidth},a=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-a:i.top=t.scrollbarXTop+a,o(t.scrollbarXRail,i);var n={top:a,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,o(t.scrollbarYRail,n),o(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function W(e){e.element;e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var i=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,a=i>e.scrollbarYTop?1:-1;e.element.scrollTop+=a*e.containerHeight,S(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var i=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,a=i>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=a*e.containerWidth,S(e),t.stopPropagation()}))}function $(e){M(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),M(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function M(e,t){var i=t[0],a=t[1],n=t[2],r=t[3],s=t[4],l=t[5],o=t[6],c=t[7],d=t[8],u=e.element,h=null,f=null,m=null;function b(t){t.touches&&t.touches[0]&&(t[n]=t.touches[0].pageY),u[o]=h+m*(t[n]-f),v(e,c),S(e),t.stopPropagation(),t.preventDefault()}function w(){g(e,c),e[d].classList.remove(p.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",b)}function C(t,s){h=u[o],s&&t.touches&&(t[n]=t.touches[0].pageY),f=t[n],m=(e[a]-e[i])/(e[r]-e[l]),s?e.event.bind(e.ownerDocument,"touchmove",b):(e.event.bind(e.ownerDocument,"mousemove",b),e.event.once(e.ownerDocument,"mouseup",w),t.preventDefault()),e[d].classList.add(p.state.clicking),t.stopPropagation()}e.event.bind(e[s],"mousedown",(function(e){C(e)})),e.event.bind(e[s],"touchstart",(function(e){C(e,!0)}))}function P(e){var t=e.element,i=function(){return u(t,":hover")},a=function(){return u(e.scrollbarX,":focus")||u(e.scrollbarY,":focus")};function n(i,a){var n=Math.floor(t.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===n&&a>0||n>=e.contentHeight-e.containerHeight&&a<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===a){if(!e.scrollbarXActive)return!1;if(0===r&&i<0||r>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(i()||a())){var s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else while(s.shadowRoot)s=s.shadowRoot.activeElement;if(R(s))return}var l=0,o=0;switch(r.which){case 37:l=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:o=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:l=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:o=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:o=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==l||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=l,S(e),n(l,o)&&r.preventDefault())}}))}function E(e){var t=e.element;function i(i,a){var n,r=Math.floor(t.scrollTop),s=0===t.scrollTop,l=r+t.offsetHeight===t.scrollHeight,o=0===t.scrollLeft,c=t.scrollLeft+t.offsetWidth===t.scrollWidth;return n=Math.abs(a)>Math.abs(i)?s||l:o||c,!n||!e.settings.wheelPropagation}function a(e){var t=e.deltaX,i=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}function n(e,i,a){if(!F.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;var n=e;while(n&&n!==t){if(n.classList.contains(p.element.consuming))return!0;var r=l(n);if(a&&r.overflowY.match(/(scroll|auto)/)){var s=n.scrollHeight-n.clientHeight;if(s>0&&(n.scrollTop>0&&a<0||n.scrollTop<s&&a>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var o=n.scrollWidth-n.clientWidth;if(o>0&&(n.scrollLeft>0&&i<0||n.scrollLeft<o&&i>0))return!0}n=n.parentNode}return!1}function r(r){var s=a(r),l=s[0],o=s[1];if(!n(r.target,l,o)){var c=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=l*e.settings.wheelSpeed,c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(l?t.scrollLeft+=l*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,c=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=l*e.settings.wheelSpeed),S(e),c=c||i(l,o),c&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)}function H(e){if(F.supportsTouch||F.supportsIePointer){var t=e.element,i={},a=0,n={},r=null;F.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",m)):F.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",m)))}function s(i,a){var n=Math.floor(t.scrollTop),r=t.scrollLeft,s=Math.abs(i),l=Math.abs(a);if(l>s){if(a<0&&n===e.contentHeight-e.containerHeight||a>0&&0===n)return 0===window.scrollY&&a>0&&F.isChrome}else if(s>l&&(i<0&&r===e.contentWidth-e.containerWidth||i>0&&0===r))return!0;return!0}function o(i,a){t.scrollTop-=a,t.scrollLeft-=i,S(e)}function c(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(d(e)){var t=c(e);i.pageX=t.pageX,i.pageY=t.pageY,a=(new Date).getTime(),null!==r&&clearInterval(r)}}function h(e,i,a){if(!t.contains(e))return!1;var n=e;while(n&&n!==t){if(n.classList.contains(p.element.consuming))return!0;var r=l(n);if(a&&r.overflowY.match(/(scroll|auto)/)){var s=n.scrollHeight-n.clientHeight;if(s>0&&(n.scrollTop>0&&a<0||n.scrollTop<s&&a>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var o=n.scrollWidth-n.clientWidth;if(o>0&&(n.scrollLeft>0&&i<0||n.scrollLeft<o&&i>0))return!0}n=n.parentNode}return!1}function f(e){if(d(e)){var t=c(e),r={pageX:t.pageX,pageY:t.pageY},l=r.pageX-i.pageX,u=r.pageY-i.pageY;if(h(e.target,l,u))return;o(l,u),i=r;var f=(new Date).getTime(),p=f-a;p>0&&(n.x=l/p,n.y=u/p,a=f),s(l,u)&&e.preventDefault()}}function m(){e.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){e.isInitialized?clearInterval(r):n.x||n.y?Math.abs(n.x)<.01&&Math.abs(n.y)<.01?clearInterval(r):(o(30*n.x,30*n.y),n.x*=.8,n.y*=.8):clearInterval(r)}),10))}}var j=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},A={"click-rail":W,"drag-thumb":$,keyboard:P,wheel:E,touch:H},N=function(e,t){var i=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=e,e.classList.add(p.main),this.settings=j(),t)this.settings[a]=t[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var n=function(){return e.classList.add(p.state.focus)},r=function(){return e.classList.remove(p.state.focus)};this.isRtl="rtl"===l(e).direction,!0===this.isRtl&&e.classList.add(p.rtl),this.isNegativeScroll=function(){var t=e.scrollLeft,i=null;return e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=t,i}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new x,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=c(p.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=c(p.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",n),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=l(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Y(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Y(s.borderLeftWidth)+Y(s.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Y(s.marginLeft)+Y(s.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(p.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=c(p.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",n),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=l(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Y(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?X(this.scrollbarY):null,this.railBorderYWidth=Y(d.borderTopWidth)+Y(d.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Y(d.marginTop)+Y(d.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return A[e](i)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return i.onScroll(e)})),S(this)};N.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Y(l(this.scrollbarXRail).marginLeft)+Y(l(this.scrollbarXRail).marginRight),this.railYMarginHeight=Y(l(this.scrollbarYRail).marginTop)+Y(l(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),S(this),_(this,"top",0,!1,!0),_(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},N.prototype.onScroll=function(e){this.isAlive&&(S(this),_(this,"top",this.element.scrollTop-this.lastScrollTop),_(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},N.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),h(this.scrollbarX),h(this.scrollbarY),h(this.scrollbarXRail),h(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},N.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var D=N,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card file-manager-item file"},[i("div",{staticClass:"custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"file_"+e.file.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var i=e.checked,a=t.target,n=!!a.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);a.checked?s<0&&(e.checked=i.concat([r])):s>-1&&(e.checked=i.slice(0,s).concat(i.slice(s+1)))}else e.checked=n}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"file_"+e.file.path}})]),i("div",{staticClass:"card-img-top file-logo-wrapper"},[i("div",{staticClass:"dropdown float-right px-50"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{attrs:{"data-feather":"more-vertical"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-download",command:"download"}},[e._v(e._s(e.$t("Download")))]),e.canPreview?i("el-dropdown-item",{attrs:{icon:"el-icon-view",command:"preview"}},[e._v(e._s(e.$t("Preview")))]):e._e(),i("el-dropdown-item",{attrs:{icon:"el-icon-copy-document",command:"duplicate"}},[e._v("Make a copy")]),i("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-info",command:"info"}},[e._v(e._s(e.$t("Info")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),i("div",{staticClass:"d-flex align-items-center justify-content-center w-100"},[i("i",{class:e.getIcon(e.file.extension)})])]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"content-wrapper",on:{click:e.clickContent}},[i("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.file.name)}}),i("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.file.size_display)}}),i("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.file.last_modified)}})]),i("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.file.last_modified)}})]),i("el-dialog",{attrs:{visible:e.preview},on:{"update:visible":function(t){e.preview=t}}},[i("el-image",{staticClass:"w-100",attrs:{src:e.url}})],1),e.show_info?i("el-drawer",{attrs:{visible:e.show_info},on:{"update:visible":function(t){e.show_info=t}}},[e.show_info?i("vx-file-manager-info",{attrs:{show:e.show_info,data:Object.assign({},e.file,{icon:e.getIcon(e.file.extension)})},on:{"update:show":function(t){e.show_info=t}}}):e._e()],1):e._e()],1)},I=[],B=(i("b0c0"),i("77c6")),z=i.n(B),U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"p-0"},[i("div",{staticClass:"\n        modal-header\n        d-flex\n        align-items-center\n        justify-content-between\n        mb-1\n        p-2\n      "},[i("h5",{staticClass:"modal-title",domProps:{textContent:e._s(e.data.name)}})]),i("div",{staticClass:"modal-body flex-grow-1 pb-sm-0 pb-1"},[i("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[i("div",{staticClass:"tab-pane fade show active",attrs:{id:"details-tab",role:"tabpanel","aria-labelledby":"details-tab"}},[i("div",{staticClass:"\n              d-flex\n              flex-column\n              justify-content-center\n              align-items-center\n              py-5\n            "},[i("i",{staticClass:"fa-6x",class:e.data.icon}),i("p",{staticClass:"mb-0 mt-1",domProps:{textContent:e._s(e.data.size_display)}})]),i("h6",{staticClass:"file-manager-title my-2"},[e._v("Info")]),i("ul",{staticClass:"list-unstyled"},[i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Type")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.extension)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Mime type")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.mime_type)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Size")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.size)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Location")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.path)}})]),i("li",{staticClass:"d-flex justify-content-between align-items-center"},[i("p",[e._v("Modified")]),i("p",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.data.last_modified)}})])])]),e._m(0)])])])])},K=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-pane fade",attrs:{id:"activity-tab",role:"tabpanel","aria-labelledby":"activity-tab"}},[i("h6",{staticClass:"file-manager-title my-2"},[e._v("Today")]),i("div",{staticClass:"media align-items-center mb-2"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/avatars/5-small.png",alt:"avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Mae")]),e._v(" shared the file with "),i("span",{staticClass:"font-weight-bold"},[e._v("Howard")])])])]),i("div",{staticClass:"media align-items-center"},[i("div",{staticClass:"avatar avatar-sm bg-light-primary mr-50"},[i("span",{staticClass:"avatar-content"},[e._v("SC")])]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Sheldon")]),e._v(" updated the file ")])])]),i("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("Yesterday")]),i("div",{staticClass:"media align-items-center mb-2"},[i("div",{staticClass:"avatar avatar-sm bg-light-success mr-50"},[i("span",{staticClass:"avatar-content"},[e._v("LH")])]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("Leonard")]),e._v(" renamed this file to "),i("span",{staticClass:"font-weight-bold"},[e._v("menu.js")])])])]),i("div",{staticClass:"media align-items-center"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-0"},[i("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" shared this file with Leonard ")])])]),i("h6",{staticClass:"file-manager-title mt-3 mb-2"},[e._v("3 days ago")]),i("div",{staticClass:"media"},[i("div",{staticClass:"avatar avatar-sm mr-50"},[i("img",{attrs:{src:"/images/portrait/small/avatar-s-1.jpg",alt:"Avatar",width:"28"}})]),i("div",{staticClass:"media-body"},[i("p",{staticClass:"mb-50"},[i("span",{staticClass:"font-weight-bold"},[e._v("You")]),e._v(" uploaded this file ")]),i("img",{staticClass:"mr-50",attrs:{src:"/images/icons/js.png",alt:"Avatar",height:"24"}}),i("span",{staticClass:"font-weight-bold"},[e._v("app.js")])])])])}],V={props:{data:Object},created:function(){console.log(this.data)}},q=V,J=i("2877"),G=Object(J["a"])(q,U,K,!1,null,null,null),Q=G.exports,Z={components:{vxFileManagerInfo:Q},props:{file:Object},data:function(){return{checked:!1,preview:!1,url:null,show_info:!1}},created:function(){},mounted:function(){z.a.replace({width:14,height:14})},watch:{checked:function(){this.checked?this.$emit("selected",this.file.path):this.$emit("unselected",this.file.path)}},computed:{canPreview:function(){return"image/jpeg"==this.file.mime_type}},methods:{clickContent:function(){this.$emit("input",this.file.path),this.canPreview&&this.handleCommand("preview")},getIcon:function(e){var t,i={pdf:"far fa-lg fa-file-pdf",jpg:"far fa-lg fa-file-image",png:"far fa-lg fa-file-image",gif:"far fa-lg fa-file-image",js:"fa fa-lg fa-js-square",xls:"far fa-lg fa-file-excel",xlsx:"far fa-lg fa-file-excel",doc:"far fa-lg fa-file-word",docx:"far fa-lg fa-file-word"};return null!==(t=i[e])&&void 0!==t?t:"far fa-file fa-lg"},handleCommand:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,r,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("info"!=e){i.next=4;break}return t.show_info=!0,console.log(t.file),i.abrupt("return");case 4:if("delete"==e&&t.$confirm("Delete ".concat(t.file.name,"?")).then((function(){t.$emit("delete",t.file.path)})),"rename"==e&&t.$prompt("Please input new file name",{inputValue:t.file.name}).then((function(e){var i=e.value;t.$emit("rename",{path:t.file.path,name:i})})),"duplicate"==e&&t.$emit("duplicate",t.file.path),"preview"!=e){i.next=14;break}return i.next=10,t.$vx.get("FileManager/readFile",{params:{path:t.file.path}});case 10:a=i.sent,n=a.headers["content-type"],t.url="data:"+n+";base64,"+a.data,t.preview=!0;case 14:if("download"!=e){i.next=23;break}return i.next=17,t.$vx.get("FileManager/readFile",{params:{path:t.file.path}});case 17:r=i.sent,s=r.headers["content-type"],l=document.createElement("a"),l.href="data:"+s+";base64,"+r.data,l.download=t.file.name,l.click();case 23:case"end":return i.stop()}}),i)})))()}}},ee=Z,te=Object(J["a"])(ee,O,I,!1,null,null,null),ie=te.exports,ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card file-manager-item folder"},[i("div",{staticClass:"custom-control custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"folder_"+e.folder.path},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var i=e.checked,a=t.target,n=!!a.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);a.checked?s<0&&(e.checked=i.concat([r])):s>-1&&(e.checked=i.slice(0,s).concat(i.slice(s+1)))}else e.checked=n}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"folder_"+e.folder.path}})]),i("div",{staticClass:"card-img-top file-logo-wrapper"},[i("div",{staticClass:"dropdown float-right px-50"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{attrs:{"data-feather":"more-vertical"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"rename"}},[e._v(e._s(e.$t("Rename")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-delete",command:"delete"}},[e._v(e._s(e.$t("Delete")))])],1)],1)],1),i("div",{staticClass:"d-flex align-items-center justify-content-center w-100",on:{click:e.clickContent}},[i("i",{attrs:{"data-feather":"folder"}})])]),i("div",{staticClass:"card-body",on:{click:e.clickContent}},[i("div",{staticClass:"content-wrapper"},[i("p",{staticClass:"card-text file-name mb-0",domProps:{textContent:e._s(e.folder.name)}}),i("p",{staticClass:"card-text file-size mb-0",domProps:{textContent:e._s(e.folder.size)}}),i("p",{staticClass:"card-text file-date",domProps:{textContent:e._s(e.folder.last_modified)}})]),i("small",{staticClass:"file-accessed text-muted",domProps:{textContent:e._s("Last modify: "+e.folder.last_modified_human)}})])])},ne=[],re={props:{folder:Object},data:function(){return{checked:!1}},mounted:function(){z.a.replace({width:14,height:14})},watch:{checked:function(){this.checked?this.$emit("selected",this.folder.path):this.$emit("unselected",this.folder.path)}},methods:{clickContent:function(){this.$emit("input",this.folder.path)},handleCommand:function(e){var t=this;"delete"==e&&this.$confirm("Delete ".concat(this.folder.name,"?")).then((function(){t.$emit("delete",t.folder.path)})),"rename"==e&&this.$prompt("Please input new folder name",{inputValue:this.folder.name}).then((function(e){var i=e.value;t.$emit("rename",{path:t.folder.path,name:i})}))}}},se=re,le=Object(J["a"])(se,ae,ne,!1,null,null,null),oe=le.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-group list-group-labels"},[i("h6",{staticClass:"section-label px-2 mb-1"},[e._v("Labels")]),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"document"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","document")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"file-text"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Documents",expression:"'Documents'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType||"image"==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"image"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","image")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"image"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Images",expression:"'Images'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"video"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","video")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"video"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Videos",expression:"'Videos'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"audio"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","audio")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"music"}}),i("span",{directives:[{name:"t",rawName:"v-t",value:"Audio",expression:"'Audio'"}],staticClass:"align-middle"})]):e._e(),null==e.fileType?i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"archive"==e.value},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("input","archive")}}},[i("i",{staticClass:"mr-50 font-medium-3",attrs:{"data-feather":"layers"}}),i("span",{staticClass:"align-middle"},[e._v("Archives")])]):e._e()])},de=[],ue={props:{fileType:String,value:String}},he=ue,fe=Object(J["a"])(he,ce,de,!1,null,null,null),pe=fe.exports,me={name:"vx-file-manager",components:{"vx-file-manager-file":ie,"vx-file-manager-folder":oe,VxFileManagerLabels:pe},props:{base:{type:String,default:""},defaultAction:{default:"preview",type:String},fileType:String,accept:String},data:function(){return{showSelectFolder:!1,showSidebar:!1,parentPath:"",selectedPath:this.base,selectedNode:null,files:[],folders:[],mode:"list",selectedFolder:[],selectedFile:[],file_uploader:!1,action:"",uploadHeaders:null,type:null,search_text:""}},created:function(){this.reloadContent(),this.action=this.$vx.endpoint+"/FileManager/uploadFile",this.uploadHeaders={Authorization:"Bearer "+this.$vx.accessToken}},mounted:function(){new D(this.$refs.fileContent),z.a.replace({width:14,height:14})},watch:{selectedPath:function(){this.reloadContent()}},computed:{showLevelUp:function(){return""!=this.selectedPath}},methods:{moveSelectedTo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,t.$confirm("Move selected file to ".concat(e.path,"?"));case 4:t.showSelectFolder=!1,a=Object(r["a"])(t.selectedFile),i.prev=6,a.s();case 8:if((n=a.n()).done){i.next=14;break}return s=n.value,i.next=12,t.$vx.post("FileManager/moveFile",{path:s,target:e.path});case 12:i.next=8;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](6),a.e(i.t0);case 19:return i.prev=19,a.f(),i.finish(19);case 22:t.selectedFile=[],t.reloadContent();case 24:case"end":return i.stop()}}),i,null,[[6,16,19,22]])})))()},allowDrop:function(e,t,i){return"inner"==i},handleDrop:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.$confirm("Moving ".concat(e.data.path," to ").concat(t.data.path),{type:"warning"});case 3:return a.next=5,i.moveFolder(e.data.path,t.data.path);case 5:n=i.$refs.tree.getNode(t.data.path),n.loaded=!1,n.expand(),a.next=16;break;case 10:a.prev=10,a.t0=a["catch"](0),r=e.data,s=i.$refs.tree.getNode(r.location),s.loaded=!1,s.expand();case 16:case"end":return a.stop()}}),a,null,[[0,10]])})))()},handleDragEnd:function(e,t,i,a){console.log("drop end")},onSearch:function(){this.$nextTick(this.reloadContent)},onLevelUp:function(){console.log(this.parentPath),this.folderClicked(this.parentPath)},folderClicked:function(e){this.$refs.tree.setCurrentKey(e),this.selectedPath=e},inputFile:function(e){this.$emit("input",e)},onErrorUpload:function(e){console.log(e),this.$message.error("upload failed!")},onSuccessUpload:function(){this.reloadContent(),this.$refs.uploads.clearFiles()},listFiles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.type=e,t.reloadContent();case 2:case"end":return i.stop()}}),i)})))()},deleteSelected:function(){var e=this;this.$confirm("Delete?").then(Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a,n,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(r["a"])(e.selectedFolder),t.prev=1,i.s();case 3:if((a=i.n()).done){t.next=11;break}return n=a.value,t.next=7,e.$vx.post("FileManager/deleteFolder",{path:n});case 7:return t.next=9,e.$refs.tree.remove(n);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:s=Object(r["a"])(e.selectedFile),t.prev=20,s.s();case 22:if((l=s.n()).done){t.next=28;break}return o=l.value,t.next=26,e.$vx.post("FileManager/deleteFile",{path:o});case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](20),s.e(t.t1);case 33:return t.prev=33,s.f(),t.finish(33);case 36:e.selectedFolder=[],e.selectedFile=[],e.reloadContent();case 39:case"end":return t.stop()}}),t,null,[[1,13,16,19],[20,30,33,36]])}))))},selectFolder:function(e){this.selectedFolder.push(e)},unselectFolder:function(e){this.selectedFolder=this.selectedFolder.filter((function(t){return t!=e}))},addNew:function(e){var t=this;"file"==e&&(this.file_uploader=!0),"folder"==e&&this.$prompt("Please input new folder name").then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(i){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i.value,e.next=3,t.$vx.post("FileManager/createFolder",{path:t.selectedPath+"/"+a});case 3:return n=e.sent.data,t.$refs.tree.append(n,t.selectedNode),e.next=7,t.reloadContent();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},loadNode:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),0!==e.level){a.next=4;break}return t([{label:"My storage",path:i.base}]),a.abrupt("return");case 4:return a.next=6,i.$vx.get("FileManager/listDirectory",{params:{path:e.data.path}});case 6:return n=a.sent,r=n.data,a.abrupt("return",t(r));case 9:case"end":return a.stop()}}),a)})))()},handleNodeClick:function(e){this.type=null,this.selectedPath=e.path,this.selectedNode=e,this.selectedFolder=[]},reloadContent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file_uploader=!1,e.selectedFolder=[],e.selectedFile=[],!e.type){t.next=18;break}if("recent"!=e.type){t.next=12;break}return t.next=7,e.$vx.get("FileManager/listRecentFiles",{params:{file_type:e.fileType}});case 7:return i=t.sent,a=i.data,e.files=a,e.folders=[],t.abrupt("return");case 12:return t.next=14,e.$vx.get("FileManager/listFiles",{params:{type:e.type}});case 14:return n=t.sent.data,e.files=n,e.folders=[],t.abrupt("return");case 18:return e.files=[],e.folders=[],t.next=22,e.$vx.get("FileManager/listContents",{params:{path:e.selectedPath,file_type:e.fileType,search:e.search_text}});case 22:r=t.sent,s=r.data,e.parentPath=s.parent,e.files=s.files,e.folders=s.folders;case 27:case"end":return t.stop()}}),t)})))()},deleteFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("FileManager/deleteFile",{path:e});case 2:t.reloadContent();case 3:case"end":return i.stop()}}),i)})))()},renameFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("FileManager/renameFile",e);case 2:a=i.sent.data,a.error?t.$message.error(a.error.message):t.reloadContent();case 4:case"end":return i.stop()}}),i)})))()},duplicateFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("FileManager/duplicateFile",{path:e});case 2:t.reloadContent();case 3:case"end":return i.stop()}}),i)})))()},deleteFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("FileManager/deleteFolder",{path:e});case 2:t.reloadContent(),t.$refs.tree.remove(e);case 4:case"end":return i.stop()}}),i)})))()},renameFolder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$vx.post("FileManager/renameFolder",e);case 2:a=i.sent.data,t.reloadContent(),t.$refs.tree.remove(e.path),t.$refs.tree.append(a,t.selectedNode);case 6:case"end":return i.stop()}}),i)})))()},moveFolder:function(e,t){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.$vx.post("FileManager/moveFolder",{path:e,target:t});case 2:n=a.sent,r=n.data,r.error&&i.$alert(r.error.message,{type:"error"}),i.reloadContent();case 6:case"end":return a.stop()}}),a)})))()}}},ve=me,ge=(i("590b"),Object(J["a"])(ve,a,n,!1,null,"bc120d54",null));t["default"]=ge.exports},"590b":function(e,t,i){"use strict";i("d13c")},"649b":function(e,t,i){},"99af":function(e,t,i){"use strict";var a=i("23e7"),n=i("d039"),r=i("e8b5"),s=i("861d"),l=i("7b0b"),o=i("50c4"),c=i("8418"),d=i("65f0"),u=i("1dde"),h=i("b622"),f=i("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=u("concat"),w=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:r(e)},C=!g||!b;a({target:"Array",proto:!0,forced:C},{concat:function(e){var t,i,a,n,r,s=l(this),u=d(s,0),h=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?s:arguments[t],w(r)){if(n=o(r.length),h+n>m)throw TypeError(v);for(i=0;i<n;i++,h++)i in r&&c(u,h,r[i])}else{if(h>=m)throw TypeError(v);c(u,h++,r)}return u.length=h,u}})},d13c:function(e,t,i){},fe68:function(e,t,i){}}]);
//# sourceMappingURL=chunk-aa322100.814df4ef.js.map