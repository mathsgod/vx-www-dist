(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d09da"],{6978:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("vx-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("vx-card-body",[r("el-form",{ref:"form1",staticClass:"vx-form",attrs:{model:e.form,"label-width":"auto",size:e.size}},[e._t("default",null,{form:e.form})],2)],1),r("vx-card-footer",[r("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v(e._s(e.$t("Submit")))]),r("el-button",{on:{click:e.onBack}},[e._v(e._s(e.$t("Back")))])],1)],1)},n=[],s=r("b85c"),o=r("1da1"),c=(r("96cf"),r("159b"),r("b0c0"),r("ac1f"),r("5319"),{props:{action:String,size:String,successUrl:String,method:{type:String,default:"post"},data:{type:Object,default:function(){return{}}}},data:function(){return{form:this.data,loading:!1}},methods:{onSubmit:function(){var e=this;this.$refs.form1.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a,n,o,c,u,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=61;break}if(a=e.$route.path,e.action&&(a=e.action),e.loading=!0,!(e.$el.querySelectorAll("input.el-upload__input").length>0)){t.next=13;break}return o=new FormData,e.$el.querySelectorAll("input.el-upload__input").forEach((function(e){e.multiple?e.files.forEach((function(t){o.append(e.name+"[]",t)})):e.files.forEach((function(t){o.append(e.name,t)}))})),o.append("vx",new Blob([JSON.stringify(e.form)],{type:"application/json"})),t.next=10,e.$vx.post(a,o,{headers:{"Content-Type":"multipart/form-data"}});case 10:n=t.sent,t.next=23;break;case 13:if("post"!=e.method){t.next=19;break}return t.next=16,e.$vx.post(a,e.form);case 16:n=t.sent,t.next=23;break;case 19:if("patch"!=e.method){t.next=23;break}return t.next=22,e.$vx.patch(a,e.form);case 22:n=t.sent;case 23:if(e.loading=!1,204==n.status&&e.$message.success("Updated"),201==n.status&&e.$message.success(n.statusText),201!=n.status&&204!=n.status){t.next=33;break}if(!e.successUrl){t.next=32;break}return c=e.successUrl,c=c.replace(":content-location",n.headers["content-location"]),e.$router.push(c),t.abrupt("return");case 32:return t.abrupt("return");case 33:if(200!=n.status){t.next=61;break}if(!n.data.error){t.next=37;break}return e.$alert(n.data.error.message,{type:"error"}),t.abrupt("return");case 37:u=Object(s["a"])(n.data),t.prev=38,u.s();case 40:if((i=u.n()).done){t.next=53;break}l=i.value,t.t0=l.type,t.next="message"===t.t0?45:"notify"===t.t0?47:"redirect"===t.t0?49:51;break;case 45:return e.$message(l.body),t.abrupt("break",51);case 47:return e.$notify(l.body),t.abrupt("break",51);case 49:return e.$router.push(l.body),t.abrupt("break",51);case 51:t.next=40;break;case 53:t.next=58;break;case 55:t.prev=55,t.t1=t["catch"](38),u.e(t.t1);case 58:return t.prev=58,u.f(),t.finish(58);case 61:case"end":return t.stop()}}),t,null,[[38,55,58,61]])})));return function(e){return t.apply(this,arguments)}}())},onBack:function(){window.history.go(-1)}}}),u=c,i=r("2877"),l=Object(i["a"])(u,a,n,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0d09da.e948e90d.js.map